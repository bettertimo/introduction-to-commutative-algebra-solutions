\documentclass[../A&M.tex]{subfiles}

\begin{document}

\chapter{Modules}

\subsection*{Exercise 2.1}

Let $a \otimes b \in (\ZZ/m\ZZ) \otimes_\ZZ (\ZZ/n\ZZ)$ be a pure tensor. Since $\gcd(m,n)=1$, $n\in \ZZ/m\ZZ$ is a unit. So we have $a \otimes b = (a/n)n \otimes b = a/n \otimes nb = a/n \otimes 0 = 0$. Hence $(\ZZ/m\ZZ) \otimes_\ZZ (\ZZ/n\ZZ) = 0$. (See \nameref{Bonus 2.1} for the generalization.)

\subsection*{Exercise 2.2}

Consider the exact sequence of $A$-modules,
$$
0 \lra \afk \lra A \lra A/\afk \lra 0.
$$
Tensoring it with $M$ over $A$ gives the right exact sequence (by (2.18))
$$
\afk \otimes_A M \lra A \otimes_A M \lra (A/\afk) \otimes_A M \lra 0.
$$
By (2.14) (iv), we have $A \otimes_A M \simeq M$. On the other hand, the image of $\afk \otimes_A M$ under this isomorphism is $\afk M$. So we have $(A/\afk) \otimes_A M \simeq M/\afk M$.

\subsection*{Exercise 2.3}

Let $\mfk$ be the maximal ideal of $A$ and $k:=A/\mfk$ be the residue field. For any finitely generated $A$-module $P$, set $P_k := k \otimes_A P = (A/\mfk) \otimes_A P \simeq P/\mfk P$ by Exercise 2.2. So $P_k$ is a finite dimensional vector space over $k$. (See the remark before (2.8), if necessary.) Note that by (2.14) and (2.15), we have
\begin{align*}
	M_k \otimes_k N_k
	&= (k \otimes_A M) \otimes_k N_k
	\simeq (M \otimes_A k) \otimes_k N_k
	\simeq M \otimes_A (k \otimes_k N_k)     \\
	&\simeq M \otimes_A N_k
	= M \otimes_A (k \otimes_A N)
	\simeq M \otimes_A (N \otimes_A k)
	\simeq (M \otimes_A N) \otimes_A k    \\
	&\simeq 0.	
\end{align*}
On the other hand, since $M_k,N_k$ are finite dimensional vector spaces over a field $k$, say $M_k \simeq k^m$ and $N_k\simeq k^n$. Then
$$
0 \simeq M_k \otimes_k N_k \simeq k^m \otimes_k k^n \simeq k^{mn}
$$
by (2.14). So we have $m=0$ or $n=0$. Or equivalently, $M_k \simeq M/\mfk M = 0$ or $N_k \simeq N/\mfk N = 0$. And by Nakayama's lemma (2.6), this implies $M=0$ or $N=0$.

\subsection*{Exercise 2.4}

Let $0 \to N' \to N \to N'' \to 0$ be any exact sequence of $A$-modules. In view of (2.19) (ii) and (2.14) (iii) (which is still true for any family of $A$-modules), it's equivalent to show that
$$
0 \lra \oplus_{i \in I} (N' \otimes_A M_i) \lra \oplus_{i \in I} (N \otimes_A M_i) \lra \oplus_{i \in I} (N'' \otimes_A M_i) \lra 0
$$
is exact if and only if
$$
0 \lra N' \otimes_A M_i \lra N \otimes_A M_i \lra N'' \otimes_A M_i \lra 0
$$
is exact for all $i\in I$. And this is easy to check.

\subsection*{Exercise 2.5}

Note that $A[x] \simeq \oplus_{i=0}^\infty A$ as $A$-modules. So by Exercise 2.4, it's sufficient to show that $A$ is a flat $A$-module. Let $0 \to M' \to M \to M'' \to 0$ be any exact sequence of $A$-modules. Then we have
$$
\begin{tikzcd}
0 \arrow{r} & M' \otimes_A A \arrow{r} \visoarrow{d} & M \otimes_A A \arrow{r} \visoarrow{d} & M'' \otimes_A A \arrow{r} \visoarrow{d} & 0 \\ 
0 \arrow{r} & M' \arrow{r} & M \arrow{r} & M'' \arrow[r] & 0
\end{tikzcd}
$$
is still exact by (2.14)(iv). So by (2.19), $A$ is a flat $A$-module. And $A[x]$ is clearly an $A$-algebra. So we are done.

\subsection*{Exercise 2.6}

It's easy to check that $M[x]$ has an $A[x]$-module structure. We skip the tedious calculation. Note that we have the following $A$-module isomorphisms
$$
A[x] \otimes_A M
\simeq (\oplus_{i=0}^\infty A) \otimes_A M
\simeq \oplus_{i=0}^\infty (A \otimes_A M)
\simeq \oplus_{i=0}^\infty M
\simeq M[x] 
$$
which sends any pure tensor $(\sum a_ix^i) \otimes m$ to $\sum a_imx^i$ and is extended linearly. Moreover, since both of them have their own $A[x]$-module structures, which is preserved under this isomorphism, so we have $M[x] \simeq A[x] \otimes_A M$ as $A[x]$-modules.

\subsection*{Exercise 2.7}

Suppose there exist $a(x) = \sum a_ix^i, b(x) = \sum b_jx^j \in A[x]$ s.t. $a(x)b(x) \in \pfk[x]$ but both $a(x),b(x) \notin \pfk[x]$. Let $n\geq0$ (resp. $m\geq0$) be the smallest integer s.t. $a_n \notin \pfk$ (resp. $b_m \notin \pfk$). Consider the coefficient of $x^{n+m}$ in the expansion of $a(x)b(x)$. Then we have
$$
\sum_{i+j = n+m} a_ib_j = a_nb_m + \jk \in \pfk
$$
where $\jk \in \pfk$ by the definition of $n,m$. This implies $a_nb_m \in \pfk$, a contradiction.

If $\mfk$ is a maximal ideal in $A$, then $\mfk[x]$ is not necessarily a maximal ideal in $A[x]$. Consider $A=k$ is a field. Then $\mfk = 0$ is a maximal ideal in $k$, but $\mfk[x] = 0$ is not a maximal ideal in $k[x]$.

\subsection*{Exercise 2.8}

(i) We use (2.19). Let $0 \to P' \to P \to P'' \to 0$ be any exact sequence of $A$-modules. Since $M$ is flat, we have
$$
0 \lra P' \otimes_A M \lra P \otimes_A M \lra P'' \otimes_A M \lra 0
$$
is still exact. And since $N$ is flat, we have
$$
\begin{tikzcd}
0 \arrow{r} & (P' \otimes_A M) \otimes_A N \arrow{r} \visoarrow{d} &  (P \otimes_A M) \otimes_A N \arrow{r} \visoarrow{d} &  (P'' \otimes_A M) \otimes_A N \arrow{r} \visoarrow{d} & 0 \\ 
0 \arrow{r} & P' \otimes_A (M \otimes_A N) \arrow{r} & P \otimes_A (M \otimes_A N) \arrow{r} & P'' \otimes_A (M \otimes_A N) \arrow[r] & 0
\end{tikzcd}
$$
is still exact. So $M \otimes_A N$ is flat.

(ii) We use (2.19) again. Let $0 \to P' \to P \to P'' \to 0$ be any exact sequence of $A$-modules. Since $B$ is flat as an $A$-module, we have
$$
0 \lra P' \otimes_A B \lra P \otimes_A B \lra P'' \otimes_A B \lra 0
$$
is still exact as $A$-modules, and hence, as $B$-modules by the remark before (2.17). Moreover, since $N$ is flat as a $B$-module, we have
$$
\begin{tikzcd}
0 \arrow{r} & (P' \otimes_A B) \otimes_B N \arrow{r} \visoarrow{d} &  (P \otimes_A B) \otimes_B N \arrow{r} \visoarrow{d} &  (P'' \otimes_A B) \otimes_B N \arrow{r} \visoarrow{d} & 0 \\ 
0 \arrow{r} & P' \otimes_A N \arrow{r} & P \otimes_A N \arrow{r} & P'' \otimes_A N \arrow[r] & 0
\end{tikzcd}
$$
is still exact as $B$-modules. And hence, as $A$-modules. So $N$ is flat as an $A$-module.

\subsection*{Exercise 2.9}

Suppose $0 \to M' \overset{f}{\to} M \overset{g}{\to} M'' \to 0$. Let $\{m'_1,\ldots,m'_r\}$ and $\{m''_1,\ldots,m''_s\}$ be generating sets of $M'$ and $M''$, respectively. And take $m_i \in M$ s.t. $g(m_i) = m''_i$ for all $i$. We claim that $\{f(m'_1),\ldots,f(m'_r),m_1,\ldots,m_s\}$ is a generating set of $M$.

Let $m\in M$. Write $g(m) = \sum a_im''_i$ for some $a_i \in A$. Note
$$
g(m) = \sum a_im''_i = \sum a_ig(m_i) = g\left(\sum a_im_i\right).
$$
So $m-\sum a_im_i \in \ker g = \im f$. Say $f(m') = m-\sum a_im_i$ for some $m' \in M'$. Write $m' = \sum b_jm'_j$ for some $b_j\in A$. Then
$$
f(m') = f\left(\sum b_jm'_j\right) = \sum b_j f(m'_j) = m-\sum a_im_i.
$$
Hence, $m = \sum b_j f(m'_j) + \sum a_im_i$, as desired.

\subsection*{Exercise 2.10}

We will show that $N = \afk N + u(M)$. (Then by (2.7), $N = u(M)$ and so $u$ is surjective.) Let $\ovl{u} : M/\afk M \to N/\afk N$ be the induced homomorphism. Given $n\in N$. Since $\ovl{u}$ is surjective, there exists $m+\afk M \in M/\afk M$ s.t. $\ovl{u}(m+\afk M) := u(m) + \afk N = n + \afk N$. So we have $n \in u(m) + \afk N \sbe u(M) + \afk N$. This shows that $N \sbe \afk N + u(M)$. The other direction is clear.

\subsection*{Exercise 2.11}

Take a maximal ideal $\mfk$ of $A$. Note that by (2.14),
$$
A^m \otimes_A (A/\mfk) = (\oplus_{i=1}^m A) \otimes_A (A/\mfk) \simeq \oplus_{i=1}^m (A \otimes_A (A/\mfk)) \simeq \oplus_{i=1}^m A/\mfk.
$$
So by tensoring with $A/\mfk$ to the isomorphism $A^m \simeq A^n$, we have $\oplus_{i=1}^m A/\mfk \simeq \oplus_{i=1}^n A/\mfk$. This shows that $m=n$ as it is an isomorphism between vector spaces.

Suppose now $\phi : A^m \to A^n$ is surjective. Then by tensoring with $A/\mfk$ we have $\phi \otimes 1: A^m \otimes_A (A/\mfk) \to A^n \otimes_A (A/\mfk)$ is also surjective. So $\oplus_{i=1}^m A/\mfk \to \oplus_{i=1}^n A/\mfk$ is a surjective map between vector spaces, which implies $m\geq n$.

Suppose now $\phi : A^m \to A^n$ is injective but $m>n$. Let $\iota$ be the natural embedding of $A^n$ into the first $n$ coordinates of $A^m$. Then we have an injective endomorphism $\psi := \iota \circ \phi$ of $A^m$. By (2.4), $\psi$ satisfies
$$
\psi^k + a_1\psi^{k-1} + \cdots + a_k = 0
$$
for some $a_i\in A$. We may assume $k$ is minimal. And this implies $a_k \neq 0$ as $\psi$ is injective. Now, note that the last coordinate of $\psi(a)$ must be zero for all $a\in A^m$. So by applying $a=(0,\ldots,0,1) \in A^m$ to the above equation and considering the last coordinate, we have $a_k = 0$, a contradiction.

\subsection*{Exercise 2.12}

The surjective homomorphism $\phi: M\to A^n$ induces an isomorphism $\ovl{\phi}: M/\ker \phi \isoto A^n$ where $\ovl{\phi}(m+\ker\phi) = \phi(m)$. Let $\{e_1,\ldots,e_n\}$ be a basis of $A^n$ and take $u_i\in M$ s.t. $\phi(u_i)=e_i$ for all $i$. Let $N$ be the submodule of $M$ generated by $u_1,\ldots,u_n$. We claim that $M = \ker\phi \oplus N$.

Given $m\in M$. Write $\ovl{\phi}(m+\ker\phi) = \sum_{i=1}^n a_ie_i$ for some $a_i\in A$. Then $m+\ker\phi = \ovl{\phi}^{-1}(\sum_{i=1}^n a_ie_i) = \sum_{i=1}^n a_iu_i + \ker\phi$. So we have $m \in \ker\phi + N$ and hence $M = \ker\phi + N$.

Given $m \in \ker\phi \cap N$. Write $m = \sum_{i=1}^n a_iu_i$ for some $a_i\in A$. Then $\phi(m) = \sum_{i=1}^n a_i \phi(u_i) =  \sum_{i=1}^n a_i e_i = 0$. This implies $a_i=0$ for all $i$ and so $m=0$. Hence, $\ker\phi \cap N=0$. This completes our claim.

Since $M = \ker\phi \oplus N$ is finitely generated, we let $\{m_1,\ldots,m_k\}$ be its generating set. For each $i$, write $m_i = x_i + n_i$ where $x_i\in\ker\phi$ and $n_i \in N$. We check that $x_1,\ldots,x_k$ generates $\ker\phi$. Suppose $x\in \ker\phi$. Write $x = \sum_{i=1}^k c_im_i = \sum_{i=1}^k c_ix_i + \sum_{i=1}^k c_in_i$ for some $c_i \in A$. Note that $\sum_{i=1}^k c_in_i = x - \sum_{i=1}^k c_ix_i \in \ker\phi \cap N = 0$. So in fact $x = \sum_{i=1}^k c_ix_i$. This completes the proof.

\subsection*{Exercise 2.13}

Clearly there is an $A$-bilinear map $B \times N \to N$ defined by $(b,y)\mapsto by$. This induces by (2.12) an $A$-linear map $p: B \otimes_A N \to N$ where $p(b\otimes y) = by$. Since $p\circ g = \id_N$, so we know $g$ is injective. We next claim that $B \otimes_A N = \im g \oplus \ker p$.

Given $x\in B \otimes_A N$. Write $x = g(p(x)) + x - g(p(x))$. Note that $g(p(x)) \in \im g$. And since $p(x - g(p(x))) = p(x) - p(g(p(x))) = p(x) - p(x) = 0$, so $x - g(p(x)) \in \ker p$. This shows that $x \in \im g + \ker p$ and hence $B \otimes_A N = \im g + \ker p$.

Given $x \in \im g \cap \ker p$. Write $x = 1 \otimes y$ for some $y\in N$, then $0 = p(x) = p(1 \otimes y) = y$ and so $x = 0$. This means $\im g \cap \ker p = 0$. So our claim is completed.

\subsection*{Exercise 2.14}

\subsection*{Exercise 2.15}

\subsection*{Exercise 2.16}

\subsection*{Exercise 2.17}

\subsection*{Exercise 2.18}

\subsection*{Exercise 2.19}

\subsection*{Exercise 2.20}

\subsection*{Exercise 2.21}

\subsection*{Exercise 2.22}

\subsection*{Exercise 2.23}

\subsection*{Exercise 2.24}

\subsection*{Exercise 2.25}

\subsection*{Exercise 2.26}

\subsection*{Exercise 2.27}

\subsection*{Exercise 2.28}

\subsection*{Bonus 2.1} \label{Bonus 2.1}

We show that $(\ZZ/m\ZZ) \otimes_\ZZ (\ZZ/n\ZZ) \simeq \ZZ/\gcd(m,n)\ZZ$. (So in particular, if $m,n$ are coprime, then $(\ZZ/m\ZZ) \otimes_\ZZ (\ZZ/n\ZZ) = 0$. This goes back to Exercise 2.1.)

Let $d:=\gcd(m,n)$. Consider the map $(\ZZ/m\ZZ) \times (\ZZ/n\ZZ) \to \ZZ/d\ZZ$ given by $(x,y) \mapsto xy$. It's easy to check that this is a well-defined $\ZZ$-bilinear map. So it induces by (2.12) a $\ZZ$-linear map $f: (\ZZ/m\ZZ) \otimes_\ZZ (\ZZ/n\ZZ) \to \ZZ/d\ZZ$ where $f(x \otimes y) = xy$. 

Conversely, consider $g: \ZZ/d\ZZ \to (\ZZ/m\ZZ) \otimes_\ZZ (\ZZ/n\ZZ)$ given by $z \mapsto z \otimes 1$. Then it's also easy to check that this is a well-defined $\ZZ$-linear map. (Writing $d=am+bn$ where $a,b\in\ZZ$ will help.) And since $g \circ f = \id_{(\ZZ/m\ZZ) \otimes_\ZZ (\ZZ/n\ZZ)}$, $f \circ g = \id_{\ZZ/d\ZZ}$, so we have the isomorphism $f : (\ZZ/m\ZZ) \otimes_\ZZ (\ZZ/n\ZZ) \isoto \ZZ/d\ZZ$.

\end{document}